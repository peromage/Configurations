# interactive mode initialization script
# prevent from being loaded twice
if [ -z "$_INIT_SH_LOADED" ]; then
    _INIT_SH_LOADED=1
else
    return
fi

# if in non-interactive mode then exit
case "$-" in
    *i*) ;;
    *) return
esac

# ============== functions ===========================
function _bash_prompt() {
    # backup last exit code
    ret=$?

    # give word some colors
    # usage: gssc <word> <color_code>
    function gssc() {
        echo "\[\e[${2}\]${1}\[\e[0m\]"
    }

    # prompt style generator 1
    # usage: style1 <symbol> <color_code>
    function style1() {
        # login
        login=$(gssc "\u@\h" $2)
        # path
        currpath=$(gssc "\w" "33m")
        # last exit status
        face=$([ "$ret" -eq "0" ] && echo "$(gssc ":)" "32m")" || echo "$(gssc ":(" "31m")")

        #override prompt
        PS1="${login}:${currpath} ${face} ${1} "
    }

    case "$UID" in
        0)
            style1 "#" "31m";;
        *)
            style1 "\$" "32m";;
    esac
}
# =============== end functions ======================

if [ -n "$BASH_VERSION" ]; then
    export PROMPT_COMMAND=_bash_prompt
#elif [ -n "$ZSH_VERSION"]; then

fi

